(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3800)}])},3800:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(4051),o=n.n(r),a=n(5893),s=n(7294),c=n(9008),i=n.n(c);function u(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(u){return void n(u)}c.done?t(i):Promise.resolve(i).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){u(a,r,o,s,c,"next",e)}function c(e){u(a,r,o,s,c,"throw",e)}s(void 0)}))}}var d="http://localhost:9871";function f(){return h.apply(this,arguments)}function h(){return(h=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/bots"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch bots");case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=l(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/llm-models?provider=").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch models");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){return v.apply(this,arguments)}function v(){return(v=l(o().mark((function e(t,n,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/bots/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,config:r})});case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("API request failed");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(u){return void n(u)}c.done?t(i):Promise.resolve(i).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){b(a,r,o,s,c,"next",e)}function c(e){b(a,r,o,s,c,"throw",e)}s(void 0)}))}}function w(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var e=(0,s.useState)([]),t=e[0],n=e[1],r=(0,s.useState)(""),c=r[0],u=r[1],l=(0,s.useState)([]),d=l[0],h=l[1],m=(0,s.useState)([]),v=m[0],x=m[1],b=(0,s.useState)([]),j=b[0],S=b[1],N=(0,s.useState)(""),k=N[0],_=N[1],E=(0,s.useState)("anthropic"),A=E[0],I=E[1],C=(0,s.useState)(""),O=C[0],P=C[1],T=(0,s.useState)(!1),F=T[0],q=T[1];(0,s.useEffect)((function(){H(),X()}),[]);var H=function(){var e=y(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:return t=e.sent,x(t),t.length>0&&(_(t[0].bot_type),Y("System","Loaded available bots. Default bot: ".concat(t[0].description))),e.next=8,J(A);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching bots and models:",e.t0),Y("System","Failed to fetch available bots and models.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=y(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),Y("System","Fetching models for ".concat(t,"...")),e.prev=2,e.next=5,p(t);case 5:(n=e.sent).models&&n.models.length>0?(S(n.models),P(n.models[0]),Y("System","Loaded ".concat(n.models.length," models for ").concat(t,". Selected model: ").concat(n.models[0]))):Y("System","No models found for ".concat(t,".")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching models:",e.t0),Y("System","Failed to fetch models for ".concat(t,"."));case 13:return e.prev=13,q(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t){n((function(n){return w(n).concat([{sender:e,message:t}])}))},L=function(e){if(!d.includes(e)){var t=[e].concat(w(d.slice(0,9)));h(t),localStorage.setItem("messageHistory",JSON.stringify(t))}},X=function(){var e=localStorage.getItem("messageHistory");e&&h(JSON.parse(e))},B=function(){var e=y(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.trim()){e.next=2;break}return e.abrupt("return");case 2:return Y("You",c),L(c),u(""),q(!0),e.prev=6,e.next=9,g(k,c,{llm_provider:A,llm_model:O});case 9:t=e.sent,Y("".concat(k," Bot (").concat(A," - ").concat(O,")"),t.response),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error:",e.t0),Y("System","An error occurred while communicating with the chatbot.");case 17:return e.prev=17,q(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[6,13,17,20]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Inception AI Chatbot"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsx)("header",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-center text-gray-800",children:"Inception AI Chatbot"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsx)("div",{id:"chat-container",className:"chat-container overflow-y-auto mb-6 p-4 bg-gray-50 rounded-lg shadow-inner",style:{height:"calc(100vh - 400px)",minHeight:"300px"},children:t.map((function(e,t){return(0,a.jsx)("div",{className:"mb-4 ".concat("You"===e.sender?"text-right":"text-left"),children:(0,a.jsxs)("span",{className:"inline-block p-3 rounded-lg max-w-xs lg:max-w-md ".concat("You"===e.sender?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:[(0,a.jsxs)("strong",{className:"font-semibold",children:[e.sender,":"]})," ",e.message]})},t)}))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&B()},className:"flex-grow p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message here...",list:"message-history"}),(0,a.jsx)("datalist",{id:"message-history",children:d.map((function(e,t){return(0,a.jsx)("option",{value:e},t)}))}),(0,a.jsx)("button",{onClick:B,className:"bg-blue-500 text-white p-3 rounded-r-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out",children:"Send"}),F&&(0,a.jsx)("div",{className:"ml-3 animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("select",{value:A,onChange:function(e){I(e.target.value),J(e.target.value)},className:"col-span-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"anthropic",children:"Anthropic"}),(0,a.jsx)("option",{value:"openai",children:"OpenAI"}),(0,a.jsx)("option",{value:"ollama",children:"Ollama"}),(0,a.jsx)("option",{value:"groq",children:"Groq"})]}),(0,a.jsx)("select",{value:O,onChange:function(e){return P(e.target.value)},className:"col-span-3 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map((function(e,t){return(0,a.jsx)("option",{value:e,children:e},t)}))})]}),(0,a.jsx)("select",{value:k,onChange:function(e){_(e.target.value),Y("System","Switched to ".concat(e.target.options[e.target.selectedIndex].text,"."))},className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map((function(e,t){return(0,a.jsx)("option",{value:e.bot_type,children:e.description},t)}))})]})]})]})]})}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);